<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Static Test Page</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="container">
    <div class="card">
        <h1>Static Test Page</h1>
        <p>This page is used by automated Playwright tests to drive interactions.</p>

        <section class="form">
            <h2>Login Form</h2>
            <form id="test-login-form">
                <label for="test-username">Username</label>
                <input id="test-username" name="test-username" type="text" placeholder="admin" required>

                <label for="test-password">Password</label>
                <input id="test-password" name="test-password" type="password" placeholder="••••" required>

                <button id="test-login-button" type="submit" class="btn">Login</button>
            </form>
        </section>

        <section class="form">
            <h2>Search Widget</h2>
            <label for="test-search">Search Term</label>
            <input id="test-search" name="test-search" type="text" placeholder="Find item">
            <button id="test-search-button" class="btn" type="button">Search</button>
            <div id="test-search-result" class="message info" style="display:none;"></div>
        </section>

        <section class="form">
            <h2>Status Toggle</h2>
            <label class="switch">
                <input id="test-toggle" type="checkbox">
                <span class="slider"></span>
            </label>
            <div id="test-toggle-status" class="message info">Toggle is OFF</div>
        </section>

        <div class="links">
            <a href="{{ url_for('home') }}">Home</a> |
            <a href="{{ url_for('agent_view') }}">Agent Playground</a>
        </div>
    </div>

    <script>
        const searchButton = document.getElementById("test-search-button");
        const searchInput = document.getElementById("test-search");
        const searchResult = document.getElementById("test-search-result");
        const toggle = document.getElementById("test-toggle");
        const toggleStatus = document.getElementById("test-toggle-status");

        searchButton?.addEventListener("click", () => {
            const term = searchInput.value.trim();
            searchResult.style.display = "block";
            searchResult.textContent = term ? `You searched for: ${term}` : "No search term provided.";
        });

        toggle?.addEventListener("change", () => {
            toggleStatus.textContent = toggle.checked ? "Toggle is ON" : "Toggle is OFF";
        });
    </script>
</body>
</html>

